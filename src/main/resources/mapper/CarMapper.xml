<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.kunggea.servlet_spring_boot.mapper.CarMapper">

    <!--手动映射bean db 字段-->
    <!--一对一例子  各种标签的使用-->

    <!--结果映射-->
    <!--一辆车对应一个客户-->
    <resultMap id="carResultMap" type="org.kunggea.servlet_spring_boot.pojo.Car" autoMapping="true">

        <!--dept_id不能写错，不然结果集不知道哪些list属于同一个dept_id里了-->
        <id property="carId" column="car_id"/>
        <result property="carModel" column="car_model"/>

        <!--Bean of one-->
        <association property="customer" javaType="org.kunggea.servlet_spring_boot.pojo.Customer">

            <!--id很重要 不能写错-->
            <id property="customerId" column="customer_id"/>
            <!--驼峰法对下划线-->
            <result property="customerName" column="customer_model"/>
            <result property="address" column="address"/>
        </association>

        <!--List of many-->
<!--        <collection property="empList" ofType="org.kunggea.servlet_spring_boot.pojo.Emp">-->

<!--            <id property="empId" column="emp_id"/>-->
<!--            <result property="empName" column="emp_name"/>-->
<!--            <result property="job" column="job"/>-->

<!--        </collection>-->

    </resultMap>


    <select id="findCar" resultMap="carResultMap">
        select *
        from car
                 left join customer on car.customer_id = customer.customer_id;
    </select>

</mapper>
